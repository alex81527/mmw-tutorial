function [res,az_err,el_err] = helper(data2, new_idx, A)
    az_idx_set1 = [4 12 10 1 2 11 13 15 7 5 9 16 14 23 21 26 32 30 17 18 27 29 31 20 28 25];
    az_idx_set2 = [3 4  12 8 1 2  11 13 6 7 5 9  16 22 23 21 26 32 24 17 18 27 29 19 20 28];
    el_idx_set1 = [6 22 24 1 7 23 17 19 2 5 21 18 20 11 9  26 27 28 13 16 32 29 25 14 30 31];
    el_idx_set2 = [8 6  22 3 1 7  23 17 4 2 5  21 18 12 11 9  26 27 10 13 16 32 29 15 14 30];
    n_points = [100:100:length(new_idx)];
    az_err = zeros(1, length(n_points));
    el_err = zeros(1, length(n_points));
    res = zeros(32, length(n_points));
    for ii=1:length(n_points)

        random_set = new_idx([1:n_points(ii)]);
        az_err(:,ii) = angle(mean(A(az_idx_set1(1),random_set)./A(az_idx_set2(1), random_set),2));
        el_err(:,ii) = angle(mean(A(el_idx_set1(1), random_set)./A(el_idx_set2(1), random_set),2));
    
        %     C = SV(2:end, random_set)./SV(1:end-1, random_set);
        D = data2.sv(az_idx_set1, random_set)./data2.sv(az_idx_set2, random_set);
        D2 = data2.sv(el_idx_set1, random_set)./data2.sv(el_idx_set2, random_set);
        F = mean(D,2);
        F2 = mean(D2,2);
        Z2 = [1/F(5)/F(6)/F2(15)/F2(16) ...
            1/F(6)/F2(15)/F2(16) ...
            1/F(1)/F(2)/F2(14)/F2(15)/F2(16) ... %3
            1/F(2)/F2(14)/F2(15)/F2(16) ...
            1/F(11)/F2(16) ... %5
            1/F(9)/F(10)/F(11)/F2(16) ...
            1/F(10)/F(11)/F2(16) ...
            1/F(4)/F(5)/F(6)/F2(15)/F2(16) ...
            1/F2(16) ...
            F(17)/F2(19)/F2(20)/F2(21) ... %10
            1/F2(15)*F2(16) ...
            1/F2(14)/F2(15)*F2(16) ...
            F(17)/F2(20)/F2(21) ...
            F(17)*F(18)/F2(25)...
            F(17)*F(18)/F2(25)/F2(24) ... %15
            F(17)/F2(21)...
            F2(17)/F(20)/F(21)...
            F2(17)/F(21)...
            F2(17)*F2(18)/F(24)/F(25)... %19
            F2(17)*F2(18)/F(25)... %20
            1/F(16)...
            1/F(14)/F(15)/F(16)...
            1/F(15)/F(16)...
            F2(3)/F(14)/F(15)/F(16)... %24
            F(17)*F2(22)*F2(23) ...%25
            0 ...
            F2(17)...
            F2(17)*F2(18)...
            F2(17)*F(22)... %29
            F(17)*F(18)...
            F(17)*F(18)*F2(26)...
            F(17)].';
    
        %     cal_refant_26 = angle(Z2);
        res(:,ii) = Z2;
        %     save(sprintf("newcal_%d.mat", n_points(ii)), "cal_refant_26");
    end
end